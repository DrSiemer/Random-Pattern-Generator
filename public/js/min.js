String.prototype.shuffle=function(){var a=this.split(""),e=(a.length-1),d,b,c;for(d=e;d>0;d--){b=Math.floor(Math.random()*(d+1));c=a[d];a[d]=a[b];a[b]=c}return a.join("")};function RandomPatternGenerator(c,b,a){this.$playfield=c;this.maxWidth=this.$playfield.data("maximum-x");this.maxHeight=this.$playfield.data("maximum-y");this.options=[];this.debugMode=false;this.tileHistory=b;this.tileDebugger=a;this.initialize=function(){this.options=["x","t","r","b","l","trbl","tr","tb","tl","rb","rl","bl","trb","trl","tbl","rbl","tr","tb","tl","rb","rl","bl","tr","tb","tl","rb","rl","bl","trb","trl","tbl","rbl","tr","tb","tl","rb","rl","bl","trb","trl","tbl","rbl","tr","tb","tl","rb","rl","bl"]}.bind(this);this.clear=function(){$(document).trigger("clearGrid");$("#playfield img.tile").attr("src","img/x.jpg");this.tileHistory.reset()};this.replaceRandomTile=function(){var d=Math.floor(Math.random()*this.maxWidth)+1;var e=Math.floor(Math.random()*this.maxHeight)+1;this.replaceTile($('[data-x="'+d+'"][data-y="'+e+'"]'))}.bind(this);this.replaceTile=function(e){var d=this.options.slice(0);d=this.removeDirectionsForEdges(e,d);var f=d[Math.floor(Math.random()*d.length)];e.attr("src","/img/"+f+".jpg");this.tileHistory.resetTile(e);this.tileDebugger.resetTile(e);if(e.data("x")>1){this.fixTileConnectionsByPosition(e.data("x")-1,e.data("y"))}if(e.data("y")>1){this.fixTileConnectionsByPosition(e.data("x"),e.data("y")-1)}if(e.data("x")<(this.maxWidth-1)){this.fixTileConnectionsByPosition(e.data("x")+1,e.data("y"))}if(e.data("y")<(this.maxHeight-1)){this.fixTileConnectionsByPosition(e.data("x"),e.data("y")+1)}}.bind(this);this.removeDirectionsForEdges=function(e,d){if(e.data("x")==1){d=this.removeDirectionFromPossibilities(d,"l")}if(e.data("y")==1){d=this.removeDirectionFromPossibilities(d,"t")}if(e.data("x")==(this.maxWidth-1)){d=this.removeDirectionFromPossibilities(d,"r")}if(e.data("y")==(this.maxHeight-1)){d=this.removeDirectionFromPossibilities(d,"b")}return d}.bind(this);this.removeDirectionFromPossibilities=function(d,g){var f=[];for(var e=0,h=d.length;e<h;e++){if(d[e].indexOf(g)==-1){f.push(d[e])}}return f};this.requireDirectionFromPossibilities=function(d,g){var f=[];for(var e=0,h=d.length;e<h;e++){if(d[e].indexOf(g)!=-1){f.push(d[e])}}return f};this.fixTileConnectionsByPosition=function(d,i){var f=$('[data-x="'+d+'"][data-y="'+i+'"]');var e=this.options.slice(0);e=this.removeDirectionsForEdges(f,e);if(i>1){var h=$('[data-x="'+d+'"][data-y="'+(i-1)+'"]');if(this.getDirectionsOfTile(h).indexOf("b")!=-1){e=this.requireDirectionFromPossibilities(e,"t")}else{e=this.removeDirectionFromPossibilities(e,"t")}}if(d<(this.maxWidth-1)){var h=$('[data-x="'+(d+1)+'"][data-y="'+i+'"]');if(this.getDirectionsOfTile(h).indexOf("l")!=-1){e=this.requireDirectionFromPossibilities(e,"r")}else{e=this.removeDirectionFromPossibilities(e,"r")}}if(i<(this.maxHeight-1)){var h=$('[data-x="'+d+'"][data-y="'+(i+1)+'"]');if(this.getDirectionsOfTile(h).indexOf("t")!=-1){e=this.requireDirectionFromPossibilities(e,"b")}else{e=this.removeDirectionFromPossibilities(e,"b")}}if(d>1){var h=$('[data-x="'+(d-1)+'"][data-y="'+i+'"]');if(this.getDirectionsOfTile(h).indexOf("r")!=-1){e=this.requireDirectionFromPossibilities(e,"l")}else{e=this.removeDirectionFromPossibilities(e,"l")}}var g=e[Math.floor(Math.random()*e.length)];f.attr("src","img/"+g+".jpg");this.tileHistory.resetTile(f);this.tileDebugger.resetTile(f)}.bind(this);this.getDirectionsOfTile=function(d){return d.attr("src").match(/([\w]+)\.[\w]+/i)[1]};this.getRandomTile=function(){var d=Math.floor(Math.random()*this.maxWidth+1);var e=Math.floor(Math.random()*this.maxHeight+1);return $('[data-x="'+d+'"][data-y="'+e+'"]')}.bind(this);this.initialize()}function TileHistory(a){this.$playfield=a;this.maxWidth=this.$playfield.data("maximum-x");this.maxHeight=this.$playfield.data("maximum-y");this.active=true;this.$toggler=$('[data-action="history"]');this.history=[];this.toggle=function(){if(this.active){this.$toggler.removeClass("active")}else{this.$toggler.addClass("active")}this.active=!this.active}.bind(this);this.isActive=function(){return this.active}.bind(this);this.resetTile=function(b){if(typeof b.data("x")==="undefined"||typeof b.data("y")==="undefined"){return}this.history[(b.data("y")-1)][(b.data("x")-1)]=0}.bind(this);this.updateTile=function(b){if(typeof b.data("x")==="undefined"||typeof b.data("y")==="undefined"){return}this.history[(b.data("y")-1)][(b.data("x")-1)]++}.bind(this);this.getNumberOfVisitsOfTile=function(b){return this.history[(b.data("y")-1)][(b.data("x")-1)]}.bind(this);this.reset=function(){this.initialize()}.bind(this);this.getLeastVisitedNeighboursFromTile=function(b){var f=Math.pow(2,32)-1;var e=this.getNeighboursOfTile(b);var g=[];for(var d=0,c=e.length;d<c;d++){if(this.getNumberOfVisitsOfTile(e[d])<f){f=this.getNumberOfVisitsOfTile(e[d]);g=[e[d]]}else{if(this.getNumberOfVisitsOfTile(e[d])==f){g.push(e[d])}}}return g}.bind(this);this.getNeighboursOfTile=function(b){var c=[];var d=this.getDirectionsOfTile(b);if(b.data("x")>1&&d.indexOf("l")!=-1){c.push($('[data-x="'+(b.data("x")-1)+'"][data-y="'+b.data("y")+'"]'))}if(b.data("y")>1&&d.indexOf("t")!=-1){c.push($('[data-x="'+b.data("x")+'"][data-y="'+(b.data("y")-1)+'"]'))}if(b.data("x")<this.maxWidth&&d.indexOf("r")!=-1){c.push($('[data-x="'+(b.data("x")+1)+'"][data-y="'+b.data("y")+'"]'))}if(b.data("y")<this.maxHeight&&d.indexOf("b")!=-1){c.push($('[data-x="'+b.data("x")+'"][data-y="'+(b.data("y")+1)+'"]'))}return c}.bind(this);this.getDirectionsOfTile=function(b){return b.attr("src").match(/([\w]+)\.[\w]+/i)[1]};this.initialize=function(){this.history=[];var c=[];for(var b=1;b<this.maxWidth;b++){c.push(0)}for(var d=1;d<this.maxHeight;d++){this.history.push(c)}}.bind(this);this.initialize()}function Debugger(){this.resetAllTiles=function(a){$("img.tile",a).css({opacity:1})};this.resetTile=function(a){a.css({opacity:1})};this.updateTile=function(b){var a=b.css("opacity");if(a>0.14){var c=Math.round((a-0.05)*100)/100;if(a==1){c=0.5}b.css({opacity:c})}}}function Randomizer(b,a){this.randomPatternGenerator=b;this.speed=a;this.active=false;this.$toggler=$('[data-action="randomize"]');this.randomizer=null;this.toggle=function(){if(this.active){clearInterval(this.randomizer);this.$toggler.removeClass("active")}else{this.randomizer=setInterval(function(){console.log(this.speed);this.randomPatternGenerator.replaceRandomTile()}.bind(this),this.speed);this.$toggler.addClass("active")}this.active=!this.active}.bind(this)}function Walker(e,c,f,b,a,d){this.$playfield=e;this.randomPatternGenerator=f;this.tileHistory=b;this.tileDebugger=a;this.typeWriter=d;this.speed=c;this.active=false;this.$toggler=$('[data-action="walker"]');this.$walker=$("#walker");this.$previousTile=null;this.$currentTile=null;this.stop=function(){if(this.active){this.toggle()}}.bind(this);this.toggle=function(){var h=false;$("img.tile",e).each(function(){if($(this).attr("src")!="img/x.jpg"){h=true;return true}});if(!h){this.renderErrorMessage();return}if(this.active){this.$toggler.removeClass("active");this.hideWalker()}else{this.$toggler.addClass("active");var g=this.getRandomTile();this.moveWalkerToTile(g);this.showWalker()}this.active=!this.active}.bind(this);this.renderErrorMessage=function(){d.write("No",15,1);d.write("tiles",12,4);d.write("to",15,7);d.write("walk",15,10)};this.getRandomTile=function(){var g=this.randomPatternGenerator.getRandomTile();while(g.attr("src")=="img/x.jpg"){g=this.randomPatternGenerator.getRandomTile()}return g}.bind(this);this.showWalker=function(){this.$walker.show(250)}.bind(this);this.hideWalker=function(){this.$walker.hide(250)}.bind(this);this.moveWalkerToTile=function(g){this.$walker.animate({left:(g.data("x")*30)-19,top:(g.data("y")*30)+7},this.speed,function(){this.$currentTile=g;this.tileHistory.updateTile(g);this.tileDebugger.updateTile(g);this.walk()}.bind(this))}.bind(this);this.walk=function(){if(!this.active){return}var g=this.randomPatternGenerator.getDirectionsOfTile(this.$currentTile);if(g.length>1&&this.$previousTile!==null){g=g.replace(this.getRelativeDirectionOfPreviousTile(),"")}this.$previousTile=this.$currentTile;var h;if(this.tileHistory.isActive()&&g.length>1){g=this.tileHistory.getLeastVisitedNeighboursFromTile(this.$currentTile);h=g[(Math.floor(Math.random()*g.length))]}else{switch(g[(Math.floor(Math.random()*g.length))]){case"t":h=$('[data-x="'+this.$currentTile.data("x")+'"][data-y="'+(this.$currentTile.data("y")-1)+'"]');break;case"r":h=$('[data-x="'+(this.$currentTile.data("x")+1)+'"][data-y="'+this.$currentTile.data("y")+'"]');break;case"b":h=$('[data-x="'+this.$currentTile.data("x")+'"][data-y="'+(this.$currentTile.data("y")+1)+'"]');break;case"l":h=$('[data-x="'+(this.$currentTile.data("x")-1)+'"][data-y="'+this.$currentTile.data("y")+'"]');break}}this.moveWalkerToTile(h)}.bind(this);this.getRelativeDirectionOfPreviousTile=function(){switch(true){case (this.$previousTile.data("y")-this.$currentTile.data("y")==-1):return"t";case (this.$previousTile.data("x")-this.$currentTile.data("x")==1):return"r";case (this.$previousTile.data("y")-this.$currentTile.data("y")==1):return"b";case (this.$previousTile.data("x")-this.$currentTile.data("x")==-1):return"l"}}.bind(this)}function Alphabet(){this.renderCharacter=function(d,b,a){switch(d){case"-":d="minus";break;case"+":d="plus";break;case" ":d="space";break;case".":d="dot";break}var c="write";c+=d.charAt(0).toUpperCase()+d.slice(1);try{this[c](b,a)}catch(f){if(f.type=="property_not_function"){console.log("Character `"+d+"` is not implemented (yet).")}}};this.writeA=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/rb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/bl.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/trb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/tbl.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/t.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/t.jpg")};this.writeB=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/rb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/bl.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/trb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/tbl.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/tr.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/tl.jpg")};this.writeC=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/rb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/l.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/tb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/x.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/tr.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/l.jpg")};this.writeD=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/rb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/bl.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/tb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/tb.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/tr.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/tl.jpg")};this.writeE=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/rb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/l.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/trb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/l.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/x.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/tr.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/l.jpg")};this.writeF=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/rb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/l.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/trb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/l.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/x.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/t.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/x.jpg")};this.writeG=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/rb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/l.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/tb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/r.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/bl.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/tr.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/tl.jpg")};this.writeH=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/b.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/b.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/trb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/tbl.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/t.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/t.jpg")};this.writeI=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/r.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/rbl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/l.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/tb.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/x.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/r.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/trl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/l.jpg")};this.writeJ=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/b.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/tb.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/r.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/tl.jpg")};this.writeK=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/b.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/rb.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/l.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/trb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/tbl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/x.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/t.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/tr.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/l.jpg")};this.writeL=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/b.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/x.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/tb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/x.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/tr.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/l.jpg")};this.writeM=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/rb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/rbl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/bl.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/tb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/t.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/tb.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/t.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/t.jpg")};this.writeN=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/rb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/bl.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/tb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/tb.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/t.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/t.jpg")};this.writeO=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/rb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/bl.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/tb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/tb.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/tr.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/tl.jpg")};this.writeP=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/rb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/bl.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/trb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/tl.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/t.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/x.jpg")};this.writeQ=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/rb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/bl.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/tr.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/tbl.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/t.jpg")};this.writeR=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/rb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/l.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/tb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/x.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/t.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/x.jpg")};this.writeS=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/rb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/l.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/tr.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/bl.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/r.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/tl.jpg")};this.writeT=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/r.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/rbl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/l.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/tb.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/x.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/t.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/x.jpg")};this.writeU=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/b.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/b.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/tb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/tb.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/tr.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/tl.jpg")};this.writeW=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/b.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/b.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/tb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/b.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/tb.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/tr.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/trl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/tl.jpg")};this.writeY=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/b.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/b.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/tr.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/tbl.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/r.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/tl.jpg")};this.write0=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/rb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/bl.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/tb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/tb.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/tr.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/tl.jpg")};this.write1=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/r.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/bl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/x.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/tb.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/x.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/r.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/trl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/l.jpg")};this.write2=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/r.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/bl.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/rb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/tl.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/tr.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/l.jpg")};this.write3=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/r.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/bl.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/r.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/tbl.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/r.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/tl.jpg")};this.write4=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/b.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/b.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/tr.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/tbl.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/t.jpg")};this.write5=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/rb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/l.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/tr.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/bl.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/r.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/tl.jpg")};this.write6=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/rb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/l.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/trb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/bl.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/tr.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/tl.jpg")};this.write7=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/r.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/bl.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/tb.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/t.jpg")};this.write8=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/rb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/bl.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/trb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/tbl.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/tr.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/tl.jpg")};this.write9=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/rb.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/bl.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/tr.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/tbl.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/r.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/tl.jpg")};this.writeMinus=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/x.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/r.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/rl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/l.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/x.jpg")};this.writePlus=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/b.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/x.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/r.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/trbl.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/l.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/t.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/x.jpg")};this.writeSpace=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/x.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/x.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/x.jpg")};this.writeDot=function(b,a){$('[data-x="'+b+'"][data-y="'+a+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+1)+'"][data-y="'+a+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+2)+'"][data-y="'+a+'"]').attr("src","/img/x.jpg");$('[data-x="'+b+'"][data-y="'+(a+1)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+1)+'"]').attr("src","/img/x.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+1)+'"]').attr("src","/img/x.jpg");$('[data-x="'+b+'"][data-y="'+(a+2)+'"]').attr("src","/img/r.jpg");$('[data-x="'+(b+1)+'"][data-y="'+(a+2)+'"]').attr("src","/img/l.jpg");$('[data-x="'+(b+2)+'"][data-y="'+(a+2)+'"]').attr("src","/img/x.jpg")}}function TypeWriter(b,a){this.$playfield=b;this.maxWidth=this.$playfield.data("maximum-x");this.maxHeight=this.$playfield.data("maximum-y");this.alphabet=a;this.write=function(k,g,d){var c=k.split("");var h=g;var f=d;for(var j=0,e=c.length;j<e;j++){if(h>(this.maxWidth-3)){h=g;f=f+3}this.alphabet.renderCharacter(c[j],h,f);h=h+3}}.bind(this)}var debugMode=false;function toggleDebugMode(){if(debugMode==false){debugMode=true;$("#debug_state").css("text-decoration","underline")}else{debugMode=false;$("#playfield img.tile").css({opacity:1});$("#debug_state").css("text-decoration","none")}}(function(g){var f=g("#playfield");var i=new TileHistory(f);var c=new Debugger();var h=new RandomPatternGenerator(f,i,c);var b=new Randomizer(h,1);var d=new Alphabet();var e=new TypeWriter(f,d);var a=new Walker(f,150,h,i,c,e);g(document).on("clearGrid",function(){a.stop()});g("#playfield img.tile").mouseover(function(){h.replaceTile(g(this))});g("body").keyup(function(j){switch(j.keyCode){case 67:h.clear();break;case 82:b.toggle();break;case 87:a.toggle();break;case 72:i.toggle();break;case 68:toggleDebugMode();break}});g("footer li a").click(function(){switch(g(this).data("action")){case"clear":h.clear();break;case"randomize":b.toggle();break;case"walker":a.toggle();break;case"history":i.toggle();break;case"debug":toggleDebugMode();break}return false})})(jQuery);